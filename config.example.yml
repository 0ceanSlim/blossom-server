# All the information is saved on a SQLite database.
# This specifies the path where it will be created.
db_path: "db/database.sqlite3"

# Log level, adjust accordingly.
log_level: "TRACE"

# Address where server will be listening.
api_addr: "0.0.0.0:8000"

# URL that will be used as the base for the URL to serve files.
#
# This setting is meant to be tweaked if you are running the server
# behind a reverse proxy (like nginx) and you want a subdomain.
# You could set it to: `https://my.domain.com` and then the files
# would be served at `https://my.domain.com/<hash>`
cdn_url: "http://blossom.happytavern.co"

# Admin pubkey
admin_pubkey: "7c24e7963f87beda2a9ccaab9ef1f73cbf3fb4db96f3c1064f539e0d230b67ac"

# Limit the size of files that can be uploaded, specified in bytes.
# Default value of 2MB
max_upload_size_bytes: 2097152

# Maximum total storage per pubkey, specified in bytes.
# Set to 0 or negative to disable quota (unlimited storage).
# Default value of 10GB
max_storage_per_pubkey_bytes: 10737418240

# Control the behavior of the Blossom server.
# Available actions:
# - 'ALLOW'
# - 'DENY'
#
# Available resources:
# - 'UPLOAD': upload a file to the server
# - 'GET': get a file from the server
# - 'DELETE': delete a file from the server
# - 'LIST': list the files of a pubkey
# - 'MIRROR': upload a file from another Blossom server
#
# Available pubkey options:
# - 'ALL': rule applies to any pubkey
# - '<specific-pubkey>': rule applies to only one pubkey
access_control_rules:
  - action: "ALLOW"
    pubkey: "7c24e7963f87beda2a9ccaab9ef1f73cbf3fb4db96f3c1064f539e0d230b67ac"
    resource: "UPLOAD"
  - action: "ALLOW"
    pubkey: "ALL"
    resource: "GET"

# Control the type of files that are accepted by the server.
# For the supported types, check: https://github.com/gabriel-vasile/mimetype/blob/master/supported_mimes.md
# 
# To allow any mime-type, only set one rule:
# - "*"
allowed_mime_types:
  - "*"
